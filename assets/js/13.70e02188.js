(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{304:function(s,e,n){s.exports=n.p+"assets/img/npm_error1.d71dbbe0.png"},305:function(s,e,n){s.exports=n.p+"assets/img/npm_error2.5468219b.png"},346:function(s,e,n){"use strict";n.r(e);var p=n(13),t=Object(p.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"npm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[s._v("#")]),s._v(" npm")]),s._v(" "),e("h2",{attrs:{id:"npm-发布流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-发布流程"}},[s._v("#")]),s._v(" npm 发布流程")]),s._v(" "),e("p",[s._v("1.npm官网创建npm账户")]),s._v(" "),e("p",[s._v("npm网站地址：https://www.npmjs.com/")]),s._v(" "),e("p",[s._v("npm网站注册地址：https://www.npmjs.com/signup    会有邮箱的验证")]),s._v(" "),e("p",[s._v("2.登陆\nnpm login   登陆时候 username前 要加 ~   否则会报错\n"),e("img",{attrs:{src:n(304),alt:"image.png"}})]),s._v(" "),e("p",[s._v("3.如果 publish 失败")]),s._v(" "),e("ul",[e("li",[s._v("3.1  404   从新npm adduser  注册 登陆")]),s._v(" "),e("li",[s._v("3.2  404   切换npm 源 npm config set registry http://registry.npmjs.org")]),s._v(" "),e("li",[s._v("3.3  403   邮箱验证   "),e("npm",{attrs:{welcome:""}})],1),s._v(" "),e("li",[s._v("3.4  403    You do not have permission to publish "),e("filename",[s._v("   需要更换 package.json的name")])],1)]),s._v(" "),e("p",[s._v("4发布成功\n"),e("img",{attrs:{src:n(305),alt:"image.png"}}),s._v("\n5.版本更新")]),s._v(" "),e("p",[s._v('npm version <update_type> -m "'),e("message",[s._v('"\n其中update_type 有三种：')])],1),s._v(" "),e("ul",[e("li",[e("p",[s._v("patch增加一位补丁号（比如 1.1.1 -> 1.1.2）")])]),s._v(" "),e("li",[e("p",[s._v("minor增加一位小版本号（比如 1.1.1 -> 1.2.0）")])]),s._v(" "),e("li",[e("p",[s._v("major增加一位大版本号（比如 1.1.1 -> 2.0.0）")])])]),s._v(" "),e("p",[s._v("比如：")]),s._v(" "),e("p",[e("code",[s._v('npm version patch -m "Version %s - v1.0.2"')])]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),e("p",[s._v("npm的package.json  不用改动 npm 命令会自动给版本号加一   改了会出错")])]),s._v(" "),e("p",[s._v("最后提交更新的版本：")]),s._v(" "),e("p",[s._v("npm publish")]),s._v(" "),e("p",[s._v("6.查看npm的版本号\nnpm view <文件名> versions\n结果:   [ '0.0.1', '0.0.2' ]")]),s._v(" "),e("p",[s._v("7.npm 包的废弃和删除")]),s._v(" "),e("ul",[e("li",[s._v("废弃: "),e("code",[s._v("npm deprecate <package-name>[@version] <message>")]),s._v(" 例子: npm deprecate util-cli-zsh@1.0.0 'test deprecate'")]),s._v(" "),e("li",[s._v("删除 "),e("code",[s._v("npm unpublish <package-name> --force")]),s._v(" 删除的版本24小时后方可发布/只有发布72小时之内的包可以删除")])]),s._v(" "),e("h2",{attrs:{id:"npm-模块中scope"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-模块中scope"}},[s._v("#")]),s._v(" npm 模块中scope")]),s._v(" "),e("blockquote",[e("p",[s._v("scope是一种把相关的模块组织到一起的一种方式，也会在某些地方影响npm对模块的处理。npm公共仓库支持带有scope的的模块，同时npm客户端对没有scope的模块也是向后兼容的，所以可以同时使用两者。")])]),s._v(" "),e("p",[s._v("scope在模块name中使用时，package.json中 "),e("code",[s._v('"name": "@somescope/somepackagename"')]),s._v(" or "),e("code",[s._v("npm init –scope=somescope")]),s._v("\n如果要发布一个公共socpe模块，你必须在最开始发布的时候指定–access public。 "),e("code",[s._v("npm publish --access=public")]),s._v("。")]),s._v(" "),e("p",[s._v("如果要发布私有模块，那么你必须有一个npm私有模块账户，可以选择自己搭建一个npm服务，或者直接使用官方的。发布私有模块的命令：")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("npm publish\n\n# or\nnpm publish –access restricted\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"npm-源管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-源管理"}},[s._v("#")]),s._v(" npm 源管理")]),s._v(" "),e("p",[e("code",[s._v("npm install -g nrm")]),s._v(" nrm:是npm的镜像源管理工具\n"),e("code",[s._v("nrm ls")]),s._v(" 查看可选源列表\n"),e("code",[s._v("nrm use taobao")]),s._v(" 切换源地址\n"),e("code",[s._v("nrm add <registry> <url>")]),s._v(" 增加定制源\n"),e("code",[s._v("nrm del <registry>")]),s._v("  删除对应的源\n"),e("code",[s._v("nrm test <registry>")]),s._v(" 测试相应源响应时间")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),e("p",[s._v("使用时候 依然是 npm 指令来处理 "),e("code",[s._v("npm install")])])]),s._v(" "),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.jianshu.com/p/47156d2165ac",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm发包流程"),e("OutboundLink")],1),s._v(" "),e("a",{attrs:{href:"https://www.jianshu.com/p/ac5b5f65320b",target:"_blank",rel:"noopener noreferrer"}},[s._v("NPM 模块中的scope"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=t.exports}}]);